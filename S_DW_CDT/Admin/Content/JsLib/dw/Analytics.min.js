if ("undefined" == typeof Dynamicweb) var Dynamicweb = {}; "undefined" == typeof Dynamicweb.Analytics && (Dynamicweb.Analytics = {}); Dynamicweb.Analytics._trackerInstance = null; Dynamicweb.Analytics.Tracker = function () { this._sessionID = ""; this._areaID = this._pageID = 0; this._engagement = null }; Dynamicweb.Analytics.Tracker.get_current = function () { Dynamicweb.Analytics._trackerInstance || (Dynamicweb.Analytics._trackerInstance = new Dynamicweb.Analytics.Tracker); return Dynamicweb.Analytics._trackerInstance };
Dynamicweb.Analytics.Tracker.prototype.get_sessionID = function () { return this._sessionID }; Dynamicweb.Analytics.Tracker.prototype.set_sessionID = function (a) { this._sessionID = a }; Dynamicweb.Analytics.Tracker.prototype.get_pageID = function () { return parseInt(this._pageID) || 0 }; Dynamicweb.Analytics.Tracker.prototype.set_pageID = function (a) { this._pageID = a }; Dynamicweb.Analytics.Tracker.prototype.get_areaID = function () { return parseInt(this._areaID) || 0 };
Dynamicweb.Analytics.Tracker.prototype.set_areaID = function (a) { this._areaID = a }; Dynamicweb.Analytics.Tracker.prototype.get_engagement = function () { return this._engagement }; Dynamicweb.Analytics.Tracker.prototype.set_engagement = function (a) { this._engagement = a }; Dynamicweb.Analytics.Tracker.prototype.get_screenWidth = function () { return "undefined" != typeof window.screen.width ? parseInt(window.screen.width) || 0 : 0 };
Dynamicweb.Analytics.Tracker.prototype.get_screenHeight = function () { return "undefined" != typeof window.screen.height ? parseInt(window.screen.height) || 0 : 0 }; Dynamicweb.Analytics.Tracker.prototype.get_colorDepth = function () { return "undefined" != typeof window.screen.colorDepth ? parseInt(window.screen.colorDepth) || 0 : 0 }; Dynamicweb.Analytics.Tracker.prototype.get_referrer = function () { return "undefined" != typeof document.referrer ? document.referrer.toString() : "" };
Dynamicweb.Analytics.Tracker.prototype.get_language = function () { return "undefined" != typeof window.navigator.language ? window.navigator.language : "" }; Dynamicweb.Analytics.Tracker.prototype.add_contentReady = function (a) { var b = null; a && "function" == typeof a && (b = function () { a(this, {}) }, "undefined" != typeof document.addEventListener ? document.addEventListener("DOMContentLoaded", b, !1) : "undefined" != typeof window.attachEvent && window.attachEvent("onload", b)) };
Dynamicweb.Analytics.Tracker.prototype.set_parameters = function (a) { a && ("undefined" != typeof a.sessionID && this.set_sessionID(a.sessionID), "undefined" != typeof a.pageID && this.set_pageID(a.pageID), "undefined" != typeof a.areaID && this.set_areaID(a.areaID), "undefined" != typeof a.engagement && this.set_engagement(a.engagement)) }; Dynamicweb.Analytics.Tracker.prototype.trackVisit = function () { this._send(this._buildTrackerURI()) };
Dynamicweb.Analytics.Tracker.prototype._buildTrackerURI = function () {
    var a = "", a = "/Admin/Public/Stat2.aspx?SessionID=" + encodeURIComponent(this.get_sessionID()), a = a + ("&PageID=" + encodeURIComponent(this.get_pageID().toString())), a = a + ("&AreaID=" + encodeURIComponent(this.get_areaID().toString())), a = a + ("&width=" + encodeURIComponent(this.get_screenWidth().toString())), a = a + ("&height=" + encodeURIComponent(this.get_screenHeight().toString())), a = a + ("&col=" + encodeURIComponent(this.get_colorDepth().toString())), a = a +
    ("&referrer=" + encodeURIComponent(this.get_referrer())), a = a + "&async=true"; this.get_language() && (a += "&lan=" + encodeURIComponent(this.get_language())); null != this.get_engagement() && (a += "&engagement=" + this.get_engagement()); return a
};
Dynamicweb.Analytics.Tracker.prototype._send = function (a) {
    var b = null, c = !1, b = document.domain || "", e = this._createRequestObject(), d = function (a, b, c) { a.writeAttribute ? a.writeAttribute(b, c) : a.setAttribute && a.setAttribute(b, c) }; a && a.length && (b && b.length && (b = (document.location.protocol + "//" + b + document.location.port + "/").toLowerCase()), e && (0 != a.indexOf("http://") && 0 != a.indexOf("https://") || a.toLowerCase().indexOf(b)), b = document.getElementById("DwTrackScript"), b || (c = !0, b = document.createElement("script"), d(b,
    "id", "DwTrackScript"), d(b, "async", "true"), d(b, "type", "text/javascript")), d(b, "src", a), c && document.body.appendChild(b))
}; Dynamicweb.Analytics.Tracker.prototype._createRequestObject = function () { var a = null; if ("undefined" != typeof XMLHttpRequest) a = new XMLHttpRequest; else if ("undefined" != typeof ActiveXObject) { try { a = new ActiveXObject("Microsoft.XMLHTTP") } catch (b) { } if (!a) { try { a = new ActiveXObject("Msxml2.XMLHTTP.6.0") } catch (c) { } if (!a) try { a = new ActiveXObject("Msxml2.XMLHTTP.3.0") } catch (e) { } } } return a };
Dynamicweb.Analytics.Tracker.prototype._isIE = function () { return "undefined" != typeof window.attachEvent || 0 <= window.navigator.userAgent.toLowerCase().indexOf("msie") }; (function (a, b) { var c = Dynamicweb.Analytics.Tracker.get_current(); c.set_parameters({ sessionID: a[b].sessionID, pageID: a[b].pageID, areaID: a[b].areaID, engagement: a[b].engagement }); c.trackVisit() })(window, "analytics");